var request = require('request'),
askme = require('readline-sync'),
serverId = process.argv[2],
Token = process.argv[3];
RoleId = process.argv[4];
ChannelId = process.argv[5];

if(process.argv.length <= 2){
	ask();
	a();
} else {
	a();
}

function ask(){
  serverId = askme.question("ServerId ID: ");
  Token = askme.question("Token: ");
  RoleId = askme.question("Role ID: ");
  ChannelId = askme.question("Channel ID: ");
}

function a(){
setInterval(() => {
   request.put(`https://discordapp.com/api/v8/channels/${ChannelId}/permissions/${RoleId}`, {
        headers: {
           'Authorization' : Token,
           'Content-Type' : 'application/json' 
        },
		body: `{"id":"${RoleId}","type":0,"allow":"1024","deny":"0"}`
    }, (err, res, body) => {
		request.put(`https://discordapp.com/api/v8/channels/${ChannelId}/permissions/${RoleId}`, {
        headers: {
           'Authorization' : Token,
           'Content-Type' : 'application/json' 
        },
		body: `{"id":"759563389566451752","type":0,"allow":"0","deny":"1024"}`
    }, (err, res, body) => {
		console.log(body);
	});
});
}, 1);
}
